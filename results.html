<head>
<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:400,700" rel="stylesheet">
<link href='style.css' rel='stylesheet' type='text/css'>
<title>AmericanValues Results</title>
<link rel="icon" type="x-icon" href="icon.png">
<link rel="shortcut icon" type="x-icon" href="icon.png">
<meta charset="utf-8">
<script>
  version = "Test Edition #2" //Remember to update this before making changes to the test itself!
</script>
</head>
<script type="application/javascript"
        src="ideologies.js">
</script>

<body>
<h1>AmericanValues</h1>
<hr>

<h1>Results</h1>

<h2>Party Axis: <span class="weight-300" id="party-label"></span></h2>
<div class="axis">
    <img id="img-democrat" src="value_images/democrat.png" height="128pt"/>
    <div class="bar democrat" id="bar-democrat"><div class="text-wrapper" id="democrat"></div></div>
    <div class="bar republican" id="bar-republican"><div class="text-wrapper" id="republican"></div></div>
    <img id="img-republican" src="value_images/republican.png" height="128pt"/>
</div>
<h2>System Axis: <span class="weight-300" id="system-label"></span></h2>
<div class="axis">
    <img id="img-twoparty" src="value_images/twoparty.png" height="128pt"/>
    <div class="bar twoparty" id="bar-twoparty"><div class="text-wrapper" id="twoparty"></div></div>
    <div class="bar multiparty" id="bar-multiparty"><div class="text-wrapper" id="multiparty"></div></div>
    <img id="img-multiparty" src="value_images/multiparty.png" height="128pt"/>
</div>
<h2>Progress Axis: <span class="weight-300" id="progress-label"></span></h2>
<div class="axis">
    <img id="img-liberal" src="value_images/liberal.png" height="128pt"/>
    <div class="bar liberal" id="bar-liberal"><div class="text-wrapper" id="liberal"></div></div>
    <div class="bar conservative" id="bar-conservative"><div class="text-wrapper" id="conservative"></div></div>
    <img id="img-conservative" src="value_images/conservative.png" height="128pt"/>
</div>
<h2>Constitution Axis: <span class="weight-300" id="constitution-label"></span></h2>
<div class="axis">
    <img id="img-constitutional" src="value_images/constitutional.png" height="128pt"/>
    <div class="bar constitutional" id="bar-constitutional"><div class="text-wrapper" id="constitutional"></div></div>
    <div class="bar amendment" id="bar-amendment"><div class="text-wrapper" id="amendment"></div></div>
    <img id="img-amendment" src="value_images/amendment.png" height="128pt"/>
</div>
<h2>International Axis: <span class="weight-300" id="international-label"></span></h2>
<div class="axis">
    <img id="img-patriot" src="value_images/patriot.png" height="128pt"/>
    <div class="bar patriot" id="bar-patriot"><div class="text-wrapper" id="patriot"></div></div>
    <div class="bar globalist" id="bar-globalist"><div class="text-wrapper" id="globalist"></div></div>
    <img id="img-globalist" src="value_images/globalist.png" height="128pt"/>
</div>
<h2>Government Axis: <span class="weight-300" id="government-label"></span></h2>
<div class="axis">
    <img id="img-biggovernment" src="value_images/biggovernment.png" height="128pt"/>
    <div class="bar biggovernment" id="bar-biggovernment"><div class="text-wrapper" id="biggovernment"></div></div>
    <div class="bar smallgovernment" id="bar-smallgovernment"><div class="text-wrapper" id="smallgovernment"></div></div>
    <img id="img-smallgovernment" src="value_images/smallgovernment.png" height="128pt"/>
</div>
<h2>Civil War Axis: <span class="weight-300" id="civil-label"></span></h2>
<div class="axis">
    <img id="img-union" src="value_images/union.png" height="128pt"/>
    <div class="bar union" id="bar-union"><div class="text-wrapper" id="union"></div></div>
    <div class="bar confederacy" id="bar-confederacy"><div class="text-wrapper" id="confederacy"></div></div>
    <img id="img-confederacy" src="value_images/confederacy.png" height="128pt"/>
</div>
<h2>Election System Axis: <span class="weight-300" id="voting-label"></span></h2>
<div class="axis">
    <img id="img-electoralcollege" src="value_images/electoralcollege.png" height="128pt"/>
    <div class="bar electoralcollege" id="bar-electoralcollege"><div class="text-wrapper" id="electoralcollege"></div></div>
    <div class="bar popularvote" id="bar-popularvote"><div class="text-wrapper" id="popularvote"></div></div>
    <img id="img-popularvote" src="value_images/popularvote.png" height="128pt"/>
</div>
<h2>Closest Match: <span class="weight-300" id="ideology-label"></span></h2>
<p>Ideological matching is a work in progress, and is much less accurate than the values and axes.</p>
<p>You can send these results by copying and pasting the URL at the top of the page or using the image below. </p>
<hr/>
<img src="" id="banner">
<button class="button" onclick="location.href='index.html';" style="background-color: #2196f3;">Back</button> <br>
<!-- Website visit statistics - no personal information is collected! -->
<script type="text/javascript">
var sc_project=11325211;
var sc_invisible=1;
var sc_security="fd9f0659";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web stats"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/11325211/0/fd9f0659/1/" alt="web
stats"></a></div></noscript>
<script>
    function getQueryVariable(variable)
    {
           var query = window.location.search.substring(1)
           var vars = query.split("&")
           for (var i=0;i<vars.length;i++) {
                   var pair = vars[i].split("=")
                   if(pair[0] == variable) {return pair[1]}
           }
           return(NaN);
    }

    function setBarValue(name, value) {
        innerel = document.getElementById(name)
        outerel = document.getElementById("bar-" + name)
        outerel.style.width = (value + "%")
        innerel.innerHTML = (value + "%")
        if (innerel.offsetWidth + 20 > outerel.offsetWidth) {
            innerel.style.visibility = "hidden"
        }
    }

    prtyArray = ["Core Democrat","Democrat","Leaning Democrat","Centrist","Leaning Republican","Republican","Core Republican"]
    systArray = ["2 Party Exclusive","2 Party Inclusive","Major Parties","Balanced","Multiple Major Parties","No Major Parties","Multi Party"]
    progArray = ["Woke","Social Justice","Progressive","Neutral","Conservative","Traditional","Reactionary"]
    consArray = ["Anti-Amendment","Constitutional Fundamentalist","Constitutional","Moderate","Amendment Advocate","Constitutional Reform","Full Repeal"]
	intrArray = ["Isolationist","Nationalist","Patriot","Impartial","Globalist","Interventionist","Nation Monopoly"]
	govtArray = ["Totalitarian","Big Government","Strong State","Fair","Weak State","Minarchism","Anarchism"]
	cwarArray = ["Very Unionist","Unionist","Leaning Unionist","Nonpartisan","Leaning Confederate","Confederate","Very Confederate"]
	voteArray = ["Electoral College Bureaucracy","Electoral College Grip","Status-Quo","Centralist","Weak Electoral College","Irellevence","Only Popular Vote"]

    function setLabel(val,ary) {
        if (val > 100) { return "" } else
        if (val > 90) { return ary[0] } else
        if (val > 75) { return ary[1] } else
        if (val > 60) { return ary[2] } else
        if (val >= 40) { return ary[3] } else
        if (val >= 25) { return ary[4] } else
        if (val >= 10) { return ary[5] } else
        if (val >= 0) { return ary[6] } else
        	{return ""}
    }

    democrat  = getQueryVariable("p")
    multiparty     = getQueryVariable("s")
    liberal   = getQueryVariable("r")
    amendment  = getQueryVariable("c")
    patriot = getQueryVariable("i")
    smallgovernment = getQueryVariable("g")
	union = getQueryVariable("w")
	popularvote = getQueryVariable("v")

    republican    = (100 - democrat).toFixed(1)
    twoparty     = (100 - multiparty).toFixed(1)
    conservative = (100 - liberal).toFixed(1)
    constitutional = (100 - amendment).toFixed(1)
	globalist = (100 - patriot).toFixed(1)
	biggovernment = (100 - smallgovernment).toFixed(1)
	confederacy = (100 - union).toFixed(1)
	electoralcollege = (100 - popularvote).toFixed(1)

    setBarValue("democrat", democrat)
    setBarValue("republican", republican)
    setBarValue("twoparty", twoparty)
    setBarValue("multiparty", multiparty)
    setBarValue("liberal", liberal)
    setBarValue("conservative", conservative)
    setBarValue("constitutional", constitutional)
    setBarValue("amendment", amendment)
	setBarValue("patriot", patriot)
	setBarValue("globalist", globalist)
	setBarValue("biggovernment", biggovernment)
	setBarValue("smallgovernment", smallgovernment)
	setBarValue("union", union)
	setBarValue("confederacy", confederacy)
	setBarValue("electoralcollege", electoralcollege)
	setBarValue("popularvote", popularvote)

    document.getElementById("party-label").innerHTML = setLabel(democrat, prtyArray)
    document.getElementById("system-label").innerHTML = setLabel(twoparty, systArray)
    document.getElementById("progress-label").innerHTML = setLabel(liberal, progArray)
    document.getElementById("constitution-label").innerHTML = setLabel(constitutional, consArray)
	document.getElementById("international-label").innerHTML = setLabel(patriot, intrArray)
	document.getElementById("government-label").innerHTML = setLabel(biggovernment, govtArray)
	document.getElementById("civilwar-label").innerHTML = setLabel(union, cwarArray)
	document.getElementById("election-label").innerHTML = setLabel(electoralcollege, voteArray)

    ideology = ""
    ideodist = Infinity
    for (var i = 0; i < ideologies.length; i++) {
        dist = 0
        dist += Math.pow(Math.abs(ideologies[i].stats.prty - democrat), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.prog - liberal), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.syst - twoparty), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.cons - constitutional), 2)
		dist += Math.pow(Math.abs(ideologies[i].stats.govt - biggovernment), 2)
		dist += Math.pow(Math.abs(ideologies[i].stats.intr - patriot), 2)
		dist += Math.pow(Math.abs(ideologies[i].stats.cwar - union), 2)
		dist += Math.pow(Math.abs(ideologies[i].stats.vote - electoralcollege), 2)
        if (dist < ideodist) {
            ideology = ideologies[i].name
            ideodist = dist
        }
    }
    document.getElementById("ideology-label").innerHTML = ideology

    function createImage(src, x, y, w, h) {
        img = new Image ()
        img.src = src
        img.onLoad = function() {
            ctx.drawImage(img, x, y, w, h)
        }
    }

    window.onload = function() {
        var c = document.createElement("canvas")
        var ctx = c.getContext("2d")
        c.width = 800;
        c.height = 1300;
        ctx.fillStyle = "#EEEEEE"
        ctx.fillRect(0,0,800,1300);

        img = document.getElementById("img-democrat")
        ctx.drawImage(img, 20, 170, 100, 100);
        img = document.getElementById("img-republican")
        ctx.drawImage(img, 680, 170, 100, 100)
        img = document.getElementById("img-twoparty")
        ctx.drawImage(img, 20, 290, 100, 100)
        img = document.getElementById("img-multiparty")
        ctx.drawImage(img, 680, 290, 100, 100)
        img = document.getElementById("img-liberal")
        ctx.drawImage(img, 20, 410, 100, 100)
        img = document.getElementById("img-conservative")
        ctx.drawImage(img, 680, 410, 100, 100)
        img = document.getElementById("img-constitution")
        ctx.drawImage(img, 20, 530, 100, 100)
        img = document.getElementById("img-amendment")
        ctx.drawImage(img, 680, 530, 100, 100)
	    img = document.getElementById("img-patriot")
        ctx.drawImage(img, 20, 650, 100, 100)
        img = document.getElementById("img-globalist")
        ctx.drawImage(img, 680, 650, 100, 100)
        img = document.getElementById("img-biggovernment")
        ctx.drawImage(img, 20, 770, 100, 100)
        img = document.getElementById("img-smallgovernment")
        ctx.drawImage(img, 680, 770, 100, 100)
        img = document.getElementById("img-union")
        ctx.drawImage(img, 20, 890, 100, 100)
        img = document.getElementById("img-confederacy")
        ctx.drawImage(img, 680, 890, 100, 100)
        img = document.getElementById("img-electoralcollege")
        ctx.drawImage(img, 20, 1010, 100, 100)
        img = document.getElementById("img-popularvote")
        ctx.drawImage(img, 680, 1010, 100, 100)

        ctx.fillStyle="#222222"
        ctx.fillRect(120, 180, 560, 80)
        ctx.fillRect(120, 300, 560, 80)
        ctx.fillRect(120, 420, 560, 80)
        ctx.fillRect(120, 540, 560, 80)
        ctx.fillRect(120, 660, 560, 80)
        ctx.fillRect(120, 780, 560, 80)
        ctx.fillRect(120, 900, 560, 80)
        ctx.fillRect(120, 1020, 560, 80)
        ctx.fillStyle="#1668FF"
        ctx.fillRect(120, 184, 5.6*democrat-2, 72)
        ctx.fillStyle="#FF3826"
        ctx.fillRect(682-5.6*republican, 184, 5.6*republican-2, 72)
        ctx.fillStyle="#A55FB1"
        ctx.fillRect(120, 304, 5.6*twoparty-2, 72)
        ctx.fillStyle="#8BC34A"
        ctx.fillRect(682-5.6*multiparty, 304, 5.6*multiparty-2, 72)
        ctx.fillStyle="#7F7D0E"
        ctx.fillRect(120, 424, 5.6*liberal-2, 72)
        ctx.fillStyle="#42AAFF"
        ctx.fillRect(682-5.6*conservative, 424, 5.6*conservative-2, 72)
        ctx.fillStyle="#268E4E"
        ctx.fillRect(120, 544, 5.6*constitutional-2, 72)
        ctx.fillStyle="#BA1B1D"
        ctx.fillRect(682-5.6*amendment, 544, 5.6*amendment-2, 72)
        ctx.fillStyle="#DB8F26"
        ctx.fillRect(120, 664, 5.6*patriot-2, 72)
        ctx.fillStyle="#012169"
        ctx.fillRect(682-5.6*globalist, 664, 5.6*globalist-2, 72)
        ctx.fillStyle="#FFFFFF"
        ctx.fillRect(120, 784, 5.6*biggovernment-2, 72)
        ctx.fillStyle="#FFEB3B"
        ctx.fillRect(682-5.6*smallgovernment, 784, 5.6*smallgovernment-2, 72)
        ctx.fillStyle="#218094"
        ctx.fillRect(120, 904, 5.6*union-2, 72)
        ctx.fillStyle="#CC0033"
        ctx.fillRect(682-5.6*confederacy, 904, 5.6*confederacy-2, 72)
        ctx.fillStyle="#9A9A66"
        ctx.fillRect(120, 1024, 5.6*electoralcollege-2, 72)
        ctx.fillStyle="#FFFFAD"
        ctx.fillRect(682-5.6*popularvote, 1024, 5.6*popularvote-2, 72)
        ctx.fillStyle="#222222"
        ctx.font="700 80px Montserrat"
        ctx.textAlign="left"
        ctx.fillText("AmericanValues", 20, 90)
        ctx.font="50px Montserrat"
        ctx.fillText(ideology, 20, 140)

        ctx.textAlign="left"
        if (democrat  > 30) {ctx.fillText(democrat + "%", 130, 237.5)}
        if (twoparty     > 30) {ctx.fillText(twoparty + "%", 130, 357.5)}
        if (liberal   > 30) {ctx.fillText(liberal + "%", 130, 477.5)}
        if (constitutional > 30) {ctx.fillText(constitutional + "%", 130, 597.5)}
        if (patriot  > 30) {ctx.fillText(patriot + "%", 130, 717.5)}
        if (biggovernment     > 30) {ctx.fillText(biggovernment + "%", 130, 837.5)}
        if (union   > 30) {ctx.fillText(union + "%", 130, 957.5)}
        if (electoralcollege > 30) {ctx.fillText(electoralcollege + "%", 130, 1077.5)}
        ctx.textAlign="right"
        if (republican    > 30) {ctx.fillText(republican + "%", 670, 237.5)}
        if (multiparty     > 30) {ctx.fillText(multiparty + "%", 670, 357.5)}
        if (conservative > 30) {ctx.fillText(conservative + "%", 670, 477.5)}
        if (amendment  > 30) {ctx.fillText(amendment + "%", 670, 597.5)}
        if (globalist  > 30) {ctx.fillText(globalist + "%", 670, 717.5)}
        if (smallgovernment     > 30) {ctx.fillText(smallgovernment + "%", 670, 837.5)}
        if (confederacy   > 30) {ctx.fillText(confederacy + "%", 670, 957.5)}
        if (popularvote > 30) {ctx.fillText(popularvote + "%", 670, 1077.5)}

        ctx.textAlign="right"
        ctx.font="300 30px Montserrat"
        ctx.fillText("AmericanValues.github.io", 780, 60)
		ctx.fillText(version, 780, 90)
        ctx.textAlign="center"
        ctx.fillText("Party Axis: " + document.getElementById("party-label").innerHTML, 400, 175)
        ctx.fillText("System Axis: " + document.getElementById("system-label").innerHTML, 400, 295)
        ctx.fillText("Progress Axis: " + document.getElementById("progress-label").innerHTML, 400, 415)
        ctx.fillText("Constitution Axis: " + document.getElementById("constitution-label").innerHTML, 400, 535)
        ctx.fillText("International Axis: " + document.getElementById("international-label").innerHTML, 400, 655)
        ctx.fillText("Government Axis: " + document.getElementById("government-label").innerHTML, 400, 775)
        ctx.fillText("Civil War Axis (DOESN'T MEAN YOU SUPPORT SLAVERY IF YOU GET CONFEDERACY): " + document.getElementById("civil-label").innerHTML, 400, 895)
        ctx.fillText("Election Axis: " + document.getElementById("voting-label").innerHTML, 400, 1015)

        document.getElementById("banner").src = c.toDataURL();
    }
    </script>
</body>
